# 어노테이션(Annotation)

어노테이션은 주석처럼 프로그래밍 언어에 영향을 미치지 않으면서,

다른 프로그램에 유용한 정보를 제공할 수 있다.

테스트 코드를 작성할 때 `@Test` 라는 어노테이션을 사용하지만,

이것이 직접적으로 메소드에 영향을 행사하여 테스트를 진행하는 것이 아니라,

테스트를 해주는 프로그램에게 알리는 것뿐 그 이상 그 이하도 아니다.

## 표준 어노테이션

자바에서 기본적으로 제공하는 어노테이션은 몇 개 없다.

이 어노테이션들중 일부는 `메타 어노테이션` 으로 다른 어노테이션을 정의하는데 사용한다.

### 기본 어노테이션

|어노테이션|설명|
|:---|:---|
|`@Override`|컴파일러에게 오버라이딩하는 메소드라는 것을 알린다.|
|`@Deprecated`|앞으로 사용하지 않을 것을 권장하는 대상에 붙인다.|
|`@SuppressWarnings`|컴파일러의 특정 경고메세지가 나오지 않게 해준다.|
|`@SafeVarargs`|제네릭타입 가변인자에 사용한다.|
|`@FuntionalInterface`|함수형 인터페이스라고 명시적으로 알림|
|`@Native`|`native`메소드에서 참조되는 상수 앞에 붙인다.|

### 메타 어노테이션

메타 어노테이션은 각각의 옵션이 좀 많기 때문에 따로 한개씩 정리한다.

어노테이션을 위한 어노테이션들이기 때문에 커스텀 어노테이션을 만들 때 반드시 알아둬야 할 것이다.

#### @Target

`Annotation`이 적용가능한 대상을 지정하는데 사용한다.

아래에는 넣을 수 있는 속성값이다.

|대상타입|의미|
|:---|:---|
|ANNOTATION_TYPE|어노테이션|
|CONSTRUCTOR|생성자|
|FIELD|필드(멤버변수, enum상수)|
|LOCAL_VARIABLE|지역변수|
|METHOD|메소드|
|PACKAGE|패키지|
|PARAMETER|매개변수|
|TYPE|타입(class, interface, enum)|
|TYPE_PARAMETER|타입 매개변수(JDK1.8)|
|TYPE_USE|타입이 사용되는 모든 곳(JDK1.8)|

이 타입들은 열거형 `ElementType` enum 에서 가져와 사용이 가능하다.

#### @Retention

어노테이션이 유지되는 기간을 지정하여 사용 가능하다.

> 유지정책

|유지정책|의미|
|:---|:---|
|SOURCE|소스 파일에만 존재, 클래스파일에는 존재하지 않음|
|CLASS|클래스 파일에 존재, 실행시에 사용불가, 기본값|
|RUNTIME|클래스 파일에 존재, 실행시에 사용가능|

`SOURCE`는 컴파일러를 직접 작성할 것이 아니라면 필요없다.

`RUNTIME`은 실행 시에 리플렉션을 통해 클래스 파일에 저장된 어노테이션의 정보를 읽어서

처리할 수 있다.

`CLASS`는 컴파일러가 어노테이션의 정보를 클래스 파일에 저장할 수 있게는 해주지만,

클래스 파일이 JVM에 로딩될 때는 어노테이션이 무시되어 실행 시에 어노테이션에 대한 정보를 얻을 수 없다.

그래서 기본값이지만 잘 사용하지 않는다.

`RetentionPolicy` enum의 상수로 위의 옵션들을 사용이 가능하다.

#### @Documented

어노테이션에 대한 정보가 자바독으로 작성한 문서에 포함되도록 한다.

`@Override`, `@SuppressWarnings`를 제외하고는 모두 이 메타 어노테이션이 붙어있다.

#### @Inherited

단어부터 딱 봐도 자식 클래스에서 상속되도록 한다.

`@Inherited`가 붙은 어노테이션을 부모 클래스에 붙이게 되면 자식 클래스도

똑같이 이 어노테이션이 붙은 것 처럼 인식이 된다.

```java
@Inherited //@SuperAnno가 자식 클래스까지 미치게
public @interface SuperAnno {
}

@SuperAnno
class Parent {
}

class Child extends Parent { //Child에 어노테이션이 붙은것 처럼 인식한다.
}
```

#### @Repeatable

반복한다는 뜻을 내포하고 있음으로 미루어 보아

한 대상에 같은 어노테이션을 여러번 붙일 수 있는 어노테이션이다.

#### @Native

네이티브 메소드에 의해 참조되는 상수 필드에 붙이는 어노테이션

> 네이티브 메소드

네이티브 메소드는 JVM이 설치된 OS의 메소드를 말한다.

