# GC (Garbage Collector)

객체 지향 언어는 생성한 모든 객체를 추적하고 더 이상 필요하지 않을 때 명시적으로 삭제해야 한다.

명시적으로 메모리 관리하는 것은 굉장히 오류가 많이 발생하고 어렵다.

자바는 이런 걱정을 할 필요가 없다. 자바 런타임 환경은,

객체가 더 이상 사용되지 않는다고 판단되면 객체를 삭제한다.

이것을 바로 `가비지 컬렉터` 라고 한다.

## Stop The World

이 `Stop-The-World`는 GC를 실행하기 위해 JVM이 애플리케이션 실행을 멈추는 것이다.

`Stop-The-World`가 발생하면 GC를 실행하는 쓰레드를 제외한 나머지 쓰레드는

**모두 작업을 중지** 한다.

GC튜닝이란 말은 이 `Stop-The-World` 시간을 줄이는 것으로 생각하면 된다.

# 메서드 반환

메소드는 반환 타입이 있다.

메소드 실행은 모든 명령문을 완료하고, `return` 에 도달 하거나

예외를 던져주면 끝나게 된다.

메소드 선언부에서 반환 유형을 선언해주고 본문 내에서 `return 반환유형`을 해주면 되겠다.

`void`메소드의 경우에는 반환값이 없는데 

이때에는 분기로 종료시켜주려면 `return;` 을 명시적으로 호출해주면 된다.

# JVM 메모리 구조

<img width="467" alt="스크린샷 2021-11-12 오후 9 45 50" src="https://user-images.githubusercontent.com/74235102/141469375-45270cb2-0976-47a2-9ada-3b0fddf5ae42.png">

응용 프로그램이 실행되면, JVM은 시스템으로부터 프로그램을 수행하는데 필요한 메모리를

할당받고, JVM은 이 메모리를 용도에 따라 여러 영역으로 나누어 관리한다.

## 메소드 영역(Method Area)

프로그램 실행 중 어떤 클래스가 사용되면, JVM은 해당 클래스의 (.class) 를 읽어 클래스에 대한 정보를 이 영역에 저장한다.

**이 때, 그 클래스의 클래스변수(static 변수)도 이 영역에 같이 생성된다.**

## 힙 영역(Heap Area)

인스턴스가 생성되는 공간. 프로그램 실행 중 생성되는 인스턴스는 모두 이곳에 생성된다.

인스턴스 변수도 마찬가지로 여기에 생성된다.

## 호출 스택(Call Stack)

메소드 작업에 필요한 메모리 공간을 제공한다.

메소드가 호출되면, 호출스택에 호출된 메소드 메모리가 할당되고, 지역 변수와 중간의 연산 결과들 모두 여기에 저장된다.

점유하고 있던 메소드가 끝나게 되면 메모리 공간은 반환되며 비워진다.